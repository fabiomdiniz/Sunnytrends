<html>
<head>
    <title> Sunny Trends </title>
    <link type="text/css" rel="stylesheet" href="/stylesheets/main.css" />
    <link href="stylesheets/main.css" rel="stylesheet" type="text/css">

    <script type="text/javascript" src="./static/jquery-1.4.2.js"></script>
    <script type="text/javascript" src="./static/jquery.sparkline.js"></script>

    <script type="text/javascript">
    $(function() {
	    var dow_jones = [{%for m_dow_jones in dow_jones_list reversed%}{% if forloop.last %}{{m_dow_jones.value}}{%else%}{{m_dow_jones.value}},{% endif %}{% endfor %}];
		$('.main_graph').sparkline(dow_jones, {width:'20em', height: '5.3em', fillColor: false, lineColor: 'yellow'});
		
        var bovespa = [{% for m_bovespa in bovespa_list reversed %}{% if forloop.last %}{{m_bovespa.value}}{%else%}{{m_bovespa.value}},{% endif %}{% endfor %}];
		$('.main_graph').sparkline(bovespa, {composite: true, fillColor: false, lineColor: 'red'});

        var dollar = [{% for m_dollar in dollar_list reversed %}{% if forloop.last %}{{m_dollar.value}}{%else%}{{m_dollar.value}},{% endif %}{% endfor %}];
		$('.main_graph').sparkline(dollar, {composite: true, fillColor: false, lineColor: 'blue'});
		
        var max_sp = [{% for m_max_sp in max_sp_list reversed %}{% if forloop.last %}{{m_max_sp.value}}{%else%}{{m_max_sp.value}},{% endif %}{% endfor %}];
		$('.main_graph').sparkline(max_sp, {composite: true, fillColor: false, lineColor: 'green'});		

    });
    </script>
</head>
<body>
    <div id="apDiv1" align="center">
        <b>{{ date }}</b>
        <br>
        <br>
        USD-BRL exchange rate : {{ dollar|floatformat:2 }}
        <br>
        Bovespa index : {{ bovespa }}
        <br>
        Dow Jones index : {{ dowjones }} 
        <br>
        Nasdaq index : {{ nasdaq }} 
        <br>
        .......and São Paulo's high forecast: {{ max_sp }} °C
        <br>
        <br>
        <br>
        <br>
        Trends
        <br>
        <strong>
            (<font color="#ffff00">Dow Jones index</font>, 
             <font color="#ff0000">Bovespa index</font>, 
             <font color="#0000ff">Dollar index</font>, 
             <font color="#006600">São Paulo's high forecast</font>) 
        </strong>
        <br>
        <br>
        <br>
        <span class="main_graph">Now Loading...</span> 
        <br>
        <br>
        <br>
        The highest linear correlation today was between {{ max_linear_correl.0 }} and {{ max_linear_correl.1 }}
        <br>
        (<a href="http://en.wikipedia.org/wiki/Pearson_product-moment_correlation_coefficient">Pearson coefficient</a>: {{ max_linear_correl.2|floatformat:2 }})
        <br>
        The highest ranked correlation today was between {{ max_rank_correl.0 }} and {{ max_rank_correl.1 }}
        <br>
        (<a href="http://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient">Spearman coefficient</a>: {{ max_rank_correl.2|floatformat:2 }})
        <br> 
    </div>
    <div class="image">
      <p>
        <img src="static/logo.png" width="486" height="315" align="absbottom"><br>
      </p>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div align="right">
        <a href="http://www.flavors.me/fabiomdiniz">About the author</a>
    </div>
    <p>
        <a href="http://www.python.org/">
            <img align="right" src="http://www.python.org/community/logos/python-powered-w-100x40.png" alt="Python Powered" />     
        </a>
    </p>
    <br>
    <p>
        <br>
        <a href="http://code.google.com/appengine/">
            <img align="right"src="http://code.google.com/appengine/images/appengine-noborder-120x30.gif" alt="Powered by Google App Engine" />
        </a>
    </p>

    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
        <script type="text/javascript">
        try {
        var pageTracker = _gat._getTracker("UA-15624284-1");
        pageTracker._trackPageview();
        } catch(err) {}
    </script>

</body>
</html>
